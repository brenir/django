
<!DOCTYPE html>



<head>

	<!-- Basic Page Needs
	================================================== -->
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>微博用户饮食习惯分析</title>

	<!-- Mobile Specific
	================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- CSS
	================================================== -->
	<!-- <link rel="stylesheet" type="text/css"  href="/static/css/stylenew.css"> -->
	<!-- <link rel="stylesheet" rev="stylesheet" href="/static/css/common.css" type="text/css" media="all" /> -->
	<!-- <link rel="stylesheet" href="/static/css/sexylightbox.css" type="text/css" media="all" /> -->
	<link href="/static/css/bootstrap.min.css" rel="stylesheet" media="screen">
	<link href="/static/css/bootstrap-responsive.css" rel="stylesheet">
<!-- 	<link href="/static/css/prettify.css" rel="stylesheet">
	<link href="/static/css/docs.css" rel="stylesheet">
-->
	<!-- JS
	================================================== -->
	<script type='text/javascript' src="/static/js/jquery-1.3.2.min.js"></script>

	<script type="text/javascript" src="/static/js/jquery.easing.1.3.js"></script>
	<!-- // <script type="text/javascript" src="/static/js/sexylightbox.v2.3.jquery.min.js"></script> -->
	<script src="/static/js/bootstrap.min.js"></script>
	<script src="/static/js/esl.js"></script>

	
	
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container-fluid">
				<button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>

				<div class="nav-collapse collapse">
					<p class="navbar-text pull-right">
						<!-- Logged in as <a href="#" class="navbar-link">Username</a> -->
					</p>

					<ul class="nav">
						<li><a class="brand" href="/new/debug">微博饮食地图</a></li> 
						<li><a href="http://www.8wss.com">首页</a></li>
						<li><a href="http://qx.8wss.com">情绪地图</a></li>

						<li><a href="http://yue.8wss.com">音乐资讯</a></li>
		<!-- 			<li class="active"><a href="#">Home</a></li>
					<li><a href="#about">About</a></li>
					<li><a href="#contact">Contact</a></li> -->

				</ul>

			</div><!--/.nav-collapse -->
		</div>
	</div>


</div>
<div class="container-fluid">



	{% autoescape off %}

	<div class="row-fluid">
		<div class="span12">
			<div id="main" style="height:500px;border:1px solid #ccc;padding:10px;"></div>
			<div id="mainMap" style="height:500px;border:1px solid #ccc;padding:10px;"></div>
		</div>
	</div>
	{% endautoescape %}


	<div class="row-fluid">
		<div class="span12">


			<div class="ds-thread" data-thread-key="请将此处替换成文章在你的站点中的ID" data-title="我发现了一个有趣的地图,可以查看各地特色食物,快来看看" data-url="ys.8wss.com" data-image=http://ys.8wss.com/static/images/example.png></div>
			<script type="text/javascript">
			var duoshuoQuery = {short_name:"scir"};
			(function() {
				var ds = document.createElement('script');
				ds.type = 'text/javascript';ds.async = true;
				ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
				ds.charset = 'UTF-8';
				(document.getElementsByTagName('head')[0] 
					|| document.getElementsByTagName('body')[0]).appendChild(ds);
			})();
			</script>
		</div>
	</div>
</div>


</div>







<div class="container-fluid clearfix" style="background: #1b1b1b; padding: 10px 0;">

	<div class="six columns text-center">
		<div class="copyright">&copy;Copyright 2014 by <span><a href="http://ir.hit.edu.cn">HIT-SCIR</a></span>. All Rights Reserved.    </div>
	</div>

	<div class="eight columns text-center">


		<div class="author-info">
			Developed by <a href="http://ir.hit.edu.cn/teams/la.html">LA-TEAM</a> of <span><a href="http://ir.hit.edu.cn">HIT-SCIR</a></span>.    

		</div>

	</div>


</div><!-- End 960 container-fluid --> 
<!-- </div> -->


</body>
</html>






<script type="text/javascript">
// Step:3 conifg ECharts's path, link to echarts.js from current page.
// Step:3 为模块加载器配置echarts的路径，从当前页面链接到echarts.js，定义所需图表路径
require.config({
	paths:{ 
		echarts:'/static/js/echarts',
		'echarts/chart/bar' : '/static/js/echarts-map',
		'echarts/chart/line': '/static/js/echarts-map',
		'echarts/chart/map' : '/static/js/echarts-map'
	}
});

// Step:4 require echarts and use it in the callback.
// Step:4 动态加载echarts然后在回调函数中开始使用，注意保持按需加载结构定义图表路径
require(
	[
	'echarts',
	'echarts/chart/bar',
	'echarts/chart/line',
	'echarts/chart/map'
	],
	function(ec) {
        //--- 折柱 ---
        var myChart = ec.init(document.getElementById('main'));
        myChart.setOption({
        	tooltip : {
        		trigger: 'axis'
        	},
        	legend: {
        		data:['蒸发量','降水量']
        	},
        	toolbox: {
        		show : true,
        		feature : {
        			mark : {show: true},
        			dataView : {show: true, readOnly: false},
        			magicType : {show: true, type: ['line', 'bar']},
        			restore : {show: true},
        			saveAsImage : {show: true}
        		}
        	},
        	calculable : true,
        	xAxis : [
        	{
        		type : 'category',
        		data : ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月']
        	}
        	],
        	yAxis : [
        	{
        		type : 'value',
        		splitArea : {show : true}
        	}
        	],
        	series : [
        	{
        		name:'蒸发量',
        		type:'bar',
        		data:[2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3]
        	},
        	{
        		name:'降水量',
        		type:'bar',
        		data:[2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3]
        	}
        	]
        });

        // --- 地图 ---
        var myChart2 = ec.init(document.getElementById('mainMap'));


        myChart2.setOption({
        	tooltip : {
        		trigger: 'item',
        		formatter: '{b}'
        	},
        	series : [
        	{
        		name: '中国',
        		type: 'map',
        		mapType: 'china',
        		selectedMode : 'single',
        		itemStyle:{
        			normal:{label:{show:true}},
        			emphasis:{label:{show:true}}
        		},
        		data:[
        		{name:'广东',selected:true}
        		]
        	}
        	]
        });

      var ecConfig = require('echarts/config');
      myChart2.on(ecConfig.EVENT.MAP_SELECTED, function(param){
          var selected = param.selected;
          var str = '当前选择： ';
          for (var p in selected) {
              if (selected[p]) {
                  alert(p);
              }
          }
          
      })


    }
    );
</script>



<script type="text/javascript">
$(document).ready(function(){
	(function($){
		$.getUrlParam = function(name)
		{
			var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
			var url =  decodeURI(window.location.search);
			var r = url.substr(1).match(reg);

			if (r!=null) return unescape(r[2]); return null; 
		}
	})(jQuery);
	$(function(){

		kind = $.getUrlParam('kind');
		sex = $.getUrlParam('sex');
		province = $.getUrlParam('province');
		time = $.getUrlParam('time');
		word = $.getUrlParam('word');
		
		
		if (province != null)
		{
			$("#select_prov").val(province); 
		}
		if (kind != null)
		{
			$("#select_kind").val(kind); 
		}
		if (sex != null)
		{
			$("#select_sex").val(sex); 
		}
		if (time != null)
		{
			$("#select_time").val(time); 
		}
		if (word != null)
		{
			$("#select_word").val(decodeURI(word) ); 
		}

	})

});

</script>